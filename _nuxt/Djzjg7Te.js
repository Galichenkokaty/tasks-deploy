import{_ as N}from"./8IPWKVJR.js";import{d as g,L,r as h,t as l,v as c,x as u,M as v,N as S,O as b,y as C,z as f,P as $,Q as O,R as T,c as I,o as M,S as y,T as U,_ as J,U as w}from"./BvLadOvB.js";const B=["checked"],V={key:1,class:"tasks-item__title"},z=g({__name:"item",props:{task:{},taskModifiers:{},tasksList:{},tasksListModifiers:{}},emits:["update:task","update:tasksList"],setup(r){const t=L(r,"task"),e=L(r,"tasksList"),s=h(!1);function _(){var a;t.value.check=!((a=t.value)!=null&&a.check),e.value.push(e.value.splice(e.value.indexOf(t.value),1)[0]),localStorage.setItem("task",JSON.stringify(e.value))}function k(){e.value.splice(e.value.indexOf(t.value),1),localStorage.setItem("task",JSON.stringify(e.value))}function d(){localStorage.setItem("task",JSON.stringify(e.value)),s.value=!1}return(a,n)=>{var m,o,x;const i=N;return l(),c("div",{class:$(["tasks-item flex --align-center",{"--check":((m=t.value)==null?void 0:m.check)===!0}])},[u("input",{class:"tasks-item__check",type:"checkbox",onClick:_,checked:((o=t.value)==null?void 0:o.check)===!0},null,8,B),v(s)?S((l(),c("input",{key:0,class:"tasks-item__title --edit",autofocus:"",type:"text","onUpdate:modelValue":n[0]||(n[0]=p=>t.value.title=p)},null,512)),[[b,t.value.title]]):(l(),c("h2",V,C((x=t.value)==null?void 0:x.title),1)),v(s)?(l(),c("button",{key:2,class:"tasks-item__save thumb",onClick:n[1]||(n[1]=p=>d())},[f(i,{name:"check",filled:""})])):(l(),c("button",{key:3,class:"tasks-item__edit thumb",onClick:n[2]||(n[2]=p=>s.value=!0)},[f(i,{name:"edit",filled:""})])),u("button",{class:"tasks-item__trash thumb",onClick:n[3]||(n[3]=p=>k())},[f(i,{name:"delete",filled:""})])],2)}}}),D={class:"tasks-list flex --direction-column"},E=g({__name:"list",props:{tasksList:{},tasksListModifiers:{}},emits:["update:tasksList"],setup(r){const t=L(r,"tasksList");return(e,s)=>{const _=z;return l(),c("div",D,[(l(!0),c(O,null,T(t.value,(k,d)=>(l(),c("div",{key:k.id},[f(_,{task:t.value[d],"onUpdate:task":a=>t.value[d]=a,tasksList:t.value,"onUpdate:tasksList":s[0]||(s[0]=a=>t.value=a)},null,8,["task","onUpdate:task","tasksList"])]))),128))])}}}),K={class:"center-wrap col --12"},R={class:"add-task flex --gap-4"},A=["disabled"],F={class:"tasks__filter flex"},P=["onClick"],Q=g({__name:"main",setup(r){const t=h([]),e=h(""),s=h("all"),_=[{value:"all",text:"Все задачи"},{value:"true",text:"Выполненные задачи"},{value:"false",text:"Невыполненные задачи"}];function k(){t.value.unshift({id:t.value.length+1,check:!1,title:e.value}),localStorage.setItem("task",JSON.stringify(t.value)),e.value=""}const d=()=>{localStorage.getItem("task")&&(t.value=JSON.parse(localStorage.getItem("task")))},a=I(()=>t.value.filter(i=>i.check.toString()==s.value||s.value==="all"));return M(()=>{d()}),(n,i)=>{const m=E;return l(),c("div",K,[u("div",R,[S(u("input",{class:"input --border",type:"text",placeholder:"Введите название задачи","onUpdate:modelValue":i[0]||(i[0]=o=>y(e)?e.value=o:null),onKeyup:U(k,["enter"])},null,544),[[b,v(e)]]),u("button",{class:"add-task__button",onClick:k,disabled:v(e).length<1}," Добавить ",8,A)]),u("div",F,[(l(),c(O,null,T(_,o=>u("div",{class:$(["tasks__filter-option",{"--active":v(s)===o.value}]),onClick:x=>s.value=o.value},C(o.text),11,P)),64))]),f(m,{tasksList:v(a),"onUpdate:tasksList":i[1]||(i[1]=o=>y(a)?a.value=o:null)},null,8,["tasksList"])])}}}),j={};function q(r,t){const e=Q;return l(),w(e)}const W=J(j,[["render",q]]);export{W as default};
